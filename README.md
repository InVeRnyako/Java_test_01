# Базовый план

## Основные элементы:

### Класс-конструктор:

* Контейнер: java.until.PriorityQueue
    * Элемент контейнера: Custom Class "Toy" (?)

### Элементы контейнера:

* id - уникальный, при создании определяется контейнером. Определяет уникальность элемента. 
    * Новый id определяется как последний в контейнере +1. (ТЗ. Система очереди)
* title - название элемента
* amount - количество 
* info (опционально) - дополнительные характеристики элемента
* weight - шанс выпадения при розыгрыше


## Меню взаимодействия с пользователем / оператором:

1. Изменение содержимого контейнера
    1. Просмотр содержимого контейнера
    2. Добавление элемента в контейнер
    3. Изменение характеристик элемента контейнера
    4. Удаление элемента из контейнера
2. Реализация розыгрыша
    1. Вывод основной информации (консоль)
    2. Вывод дополнительной информации (лог-файл)
3. Включение/Выключение автосохранения
4. Демо режим
   1. Загрузка демо-содержимого контейнера
   2. Выключение авто-сохранения1

## Реализация работы элементов меню

### Просмотр содержимого контейнера.
* Цикл запроса view() на каждый элемент контейнера
### Добавление элемента в контейнер.
* Создание нового объекта класса Toy
* Проверка на его корректное создание
* Добавление в контейнер с присваиванием нового id
* Запрос для контейнера на увеличение суммарного веса на вес нового элемента
### Удаление элемента в контейнер.
* Поиск id элемента по названию.
* Просмотр содержимого контейнера.
* В случае совпадения id -  удаление элемента
### Сброс содержимого контейнера
* Перезапись файла сохранения на предзаписанные сохраненные данные.
### Розыгрыш
* Проверка возможности проведения розыгрыша
    * Минимум 1 элемент в контейнере
* Выбор элемента 
    1. Алгоритм поштучной проверки (test.java):
        * Входящие данные: массив пар id-веса элементов контейнера
            * (TODO) Продумать реализацию
        1. Генерируется случайное число
            * ThreadLocalRandom.current().nextInt(1, weight_sum + 1)
        2. Цикл проверяет, что выбранное число меньше веса + t первого элемента, если нет - добавляет текущий вес к t.
        3. Выигрыш записывается в статистику с указанием всех данных и шанса выигрыша
        4. На выход поступает id элемента
* По поступившему id элемент:
    * записывается в список выигрышей
    * удаляется из списка контейнера
### Потенциальный выигрыш
* Вывод всех элементов контейнера без указания веса.
### Демо режим (опционально)
* Реализация - Переключатель
    * Во включенном состоянии - все данные хранятся в памяти, работа с файлами не ведется
    * Используется тестовый контейнер (хранится в файле, не переписывается)
    * Все данные, подлежащие сохранению в обычном режиме выводятся в консоль


