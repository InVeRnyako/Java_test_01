# Базовый план

## Основные элементы:

### Класс-конструктор:

* Контейнер: java.until.PriorityQueue
    * Элемент контейнера: Custom Class "Toy" (?)

### Элементы контейнера:

* id - уникальный, при создании определяется контейнером. Определяет уникальность элемента. 
    * Новый id определяется как последний в контейнере +1. (ТЗ. Система очереди)
* title - название элемента
* amount - количество 
* info (опционально) - дополнительные характеристики элемента
* weight - шанс выпадения при розыгрыше


## Меню взаимодействия с пользователем / оператором:

1. Изменение содержимого контейнера
    1. Просмотр содержимого контейнера
    2. Добавление элемента в контейнер
    3. Удаление элемента из контейнера
    4. Сброс содержимого контейнера
2. Реализация розыгрыша
    1. Розыгрыш
    2. Потенциальный выигрыш
3. Просмотр статистики
4. Демо режим

## Реализация работы элементов меню

### Просмотр содержимого контейнера.
* Цикл запроса view() на каждый элемент контейнера
### Добавление элемента в контейнер.
* Создание нового объекта класса Toy
* Проверка на его корректное создание
* Добавление в контейнер с присваиванием нового id
* Запрос для контейнера на увеличение суммарного веса на вес нового элемента
### Удаление элемента в контейнер.
* Поиск элемента по id
* В случае совпадения id -  удаление элемента
* Запрос для контейнера на уменьшение суммарного веса на вес удаленного элемента
### Сброс содержимого контейнера
* Перезапись файла сохранения на предзаписанные сохраненные данные.
    * Названия предзаписанных элементов намеренно обобщены
### Розыгрыш
* Проверка возможности проведения розыгрыша
    * Минимум 2 элемента в контейнере
* Выбор элемента 
    1. Алгоритм поштучной проверки (test.java):
        * Входящие данные: массив пар id-веса элементов контейнера
            * (TODO) Продумать реализацию
        1. Генерируется случайное число
            * ThreadLocalRandom.current().nextInt(1, weight_sum + 1)
        2. Цикл проверяет, что выбранное число меньше веса + t первого элемента, если нет - добавляет текущий вес к t.
        3. Выигрыш записывается в статистику с указанием всех данных и шанса выигрыша
        4. На выход поступает id элемента
* По поступившему id элемент:
    * записывается в список выигрышей
    * удаляется из списка контейнера
### Потенциальный выигрыш
* Вывод всех элементов контейнера без указания веса.
### Демо режим (опционально)
* Реализация - Переключатель
    * Во включенном состоянии - все данные хранятся в памяти, работа с файлами не ведется
    * Используется тестовый контейнер (хранится в файле, не переписывается)
    * Все данные, подлежащие сохранению в обычном режиме выводятся в консоль


